<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>mega-transformers-bot documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-md-none p-0">
               <div class="d-flex">
                    <a href="../" class="navbar-brand">mega-transformers-bot documentation</a>
                    <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
               </div>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="d-none d-md-block menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >TasksService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/tasks/tasks.service.ts</code>
        </p>


            <p class="comment">
                <h3>Description</h3>
            </p>
            <p class="comment">
                <p>The tasks service is responsible for managing jobs/tasks that run periodically.
It also exposes a way to create tasks but NOT deleting them.</p>

            </p>



            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Async</span>
                                <a href="#checkActiveUsers" >checkActiveUsers</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Async</span>
                                <a href="#checkTimeouts" >checkTimeouts</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Async</span>
                                <a href="#cleanWfpMembers" >cleanWfpMembers</a>
                            </li>
                            <li>
                                    <span class="modifier"></span>
                                    <span class="modifier">Async</span>
                                <a href="#closeStaleTickets" >closeStaleTickets</a>
                            </li>
                            <li>
                                <a href="#createDynamicScheduledJob" >createDynamicScheduledJob</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(guildService: <a href="../injectables/GuildService.html" target="_self">GuildService</a>, userService: <a href="../injectables/GuildUserService.html" target="_self">GuildUserService</a>, client: Client, eventEmitter: EventEmitter2, prismaService: <a href="../injectables/PrismaService.html" target="_self">PrismaService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="27" class="link-to-prism">src/tasks/tasks.service.ts:27</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>guildService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/GuildService.html" target="_self" >GuildService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>userService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/GuildUserService.html" target="_self" >GuildUserService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>client</td>
                                                  
                                                        <td>
                                                                    <code>Client</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>eventEmitter</td>
                                                  
                                                        <td>
                                                                    <code>EventEmitter2</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>prismaService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PrismaService.html" target="_self" >PrismaService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkActiveUsers"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Async</span>
                        <span ><b>checkActiveUsers</b></span>
                        <a href="#checkActiveUsers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkActiveUsers()</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@Cron(&#x27;0 0 * * *&#x27;, {name: &#x27;checkActiveUsers&#x27;, timeZone: &#x27;Europe/Berlin&#x27;})<br /></code>
                </td>
            </tr>

                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="60"
                                    class="link-to-prism">src/tasks/tasks.service.ts:60</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Runs at 00:00:00 every day and
updates the written messages count for all users, of all guilds the bot is in, that have the MEMBER rank
and then updates their permissions on specific channels.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkTimeouts"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Async</span>
                        <span ><b>checkTimeouts</b></span>
                        <a href="#checkTimeouts"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkTimeouts()</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@Cron(&#x27;*/5 * * * *&#x27;, {name: &#x27;timeouts&#x27;, timeZone: &#x27;Europe/Berlin&#x27;})<br /></code>
                </td>
            </tr>

                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="80"
                                    class="link-to-prism">src/tasks/tasks.service.ts:80</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Runs every 5 minutes and checks if members of each given guild the bot is in are still timeouted</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="cleanWfpMembers"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Async</span>
                        <span ><b>cleanWfpMembers</b></span>
                        <a href="#cleanWfpMembers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>cleanWfpMembers()</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@Cron(&#x27;0 0 * * *&#x27;, {name: &#x27;cleanWfpMembers&#x27;, timeZone: &#x27;Europe/Berlin&#x27;})<br /></code>
                </td>
            </tr>

                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="128"
                                    class="link-to-prism">src/tasks/tasks.service.ts:128</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Runs everyday at midnight and kicks members that are longer than 14 days on the server and haven&#39;t checked in.</p>
</div>

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="closeStaleTickets"></a>
                    <span class="name">
                            <span class="modifier"></span>
                            <span class="modifier">Async</span>
                        <span ><b>closeStaleTickets</b></span>
                        <a href="#closeStaleTickets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>closeStaleTickets()</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@Cron(&#x27;0 0 * * *&#x27;, {name: &#x27;closeStaleTickets&#x27;, timeZone: &#x27;Europe/Berlin&#x27;})<br /></code>
                </td>
            </tr>

                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="173"
                                    class="link-to-prism">src/tasks/tasks.service.ts:173</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">

                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createDynamicScheduledJob"></a>
                    <span class="name">
                        <span ><b>createDynamicScheduledJob</b></span>
                        <a href="#createDynamicScheduledJob"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>createDynamicScheduledJob(jobOptions: CronJobParams)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="41"
                                    class="link-to-prism">src/tasks/tasks.service.ts:41</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>A utility function to create cronjobs on the fly from cronjob parameters</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>jobOptions</td>
                                            <td>
                                                        <code>CronJobParams</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <p>CronJob parameters such as the time. onComplete etc</p>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                <p>a new cronjob</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { InjectDiscordClient } from &#x27;@discord-nestjs/core&#x27;;
import { Inject, Injectable, Logger } from &#x27;@nestjs/common&#x27;;
import { Cron } from &#x27;@nestjs/schedule&#x27;;
import { GuildUser } from &#x27;@prisma/client&#x27;;
import {
  BaseGuildTextChannel,
  Client,
  Colors,
  EmbedBuilder,
  GuildTextBasedChannel,
  userMention,
} from &#x27;discord.js&#x27;;
import { EventEmitter2 } from &#x27;@nestjs/event-emitter&#x27;;
import { UserTimeOutEvent } from &#x27;src/guild/moderation/events/user.events&#x27;;
import { GuildUserService } from &#x27;src/guild/guild-user/guild-user.service&#x27;;
import { CronJob, CronJobParams } from &#x27;cron&#x27;;
import { GuildService } from &#x27;src/guild/guild.service&#x27;;
import { PrismaService } from &#x27;src/prisma.service&#x27;;

const logger &#x3D; new Logger(&#x27;TaskService&#x27;);

/**
 * The tasks service is responsible for managing jobs/tasks that run periodically.
 * It also exposes a way to create tasks but NOT deleting them.
 */
@Injectable()
export class TasksService {
  constructor(
    @Inject(GuildService) private guildService: GuildService,
    @Inject(GuildUserService) private userService: GuildUserService,
    @InjectDiscordClient()
    private readonly client: Client,
    @Inject(EventEmitter2) private readonly eventEmitter: EventEmitter2,
    @Inject(PrismaService) private readonly prismaService: PrismaService,
  ) {}
  /**
   * A utility function to create cronjobs on the fly from cronjob parameters
   * @param jobOptions CronJob parameters such as the time. onComplete etc
   * @returns a new cronjob
   */
  createDynamicScheduledJob(jobOptions: CronJobParams) {
    return new CronJob(
      jobOptions.cronTime,
      jobOptions.onTick,
      jobOptions.onComplete,
      jobOptions.start,
      jobOptions.timeZone,
    );
  }

  /**
   * Runs at 00:00:00 every day and
   * updates the written messages count for all users, of all guilds the bot is in, that have the MEMBER rank
   * and then updates their permissions on specific channels.
   */
  @Cron(&#x27;0 0 * * *&#x27;, {
    name: &#x27;checkActiveUsers&#x27;,
    timeZone: &#x27;Europe/Berlin&#x27;,
  })
  async checkActiveUsers() {
    this.client.guilds.cache.forEach(async (guild) &#x3D;&gt; {
      (await this.userService.findAll(guild.id)).forEach(
        async (user: GuildUser) &#x3D;&gt; {
          if (user.rank !&#x3D; &#x27;MEMBER&#x27;) return;
          logger.log(&#x60;Checking user ${user.userId} for activity...&#x60;);
          this.userService.updateMessageCountBucket(user.userId, user.guildId);
          this.guildService.updateChannelPermissions(user);
        },
      );
    });
  }

  /**
   * Runs every 5 minutes and checks if members of each given guild the bot is in are still timeouted
   */
  @Cron(&#x27;*/5 * * * *&#x27;, {
    name: &#x27;timeouts&#x27;,
    timeZone: &#x27;Europe/Berlin&#x27;,
  })
  async checkTimeouts() {
    this.client.guilds.cache.forEach(async (guild) &#x3D;&gt; {
      (await this.userService.findAll(guild.id)).forEach(
        async (dbUser: GuildUser) &#x3D;&gt; {
          try {
            const member &#x3D; await this.client.guilds.cache
              .get(guild.id)
              .members.fetch(dbUser.userId.toString());
            if (member.communicationDisabledUntilTimestamp &#x3D;&#x3D; null) {
              return;
            } else if (
              member.communicationDisabledUntilTimestamp &gt; Date.now()
            ) {
              logger.log(
                &#x60;User ${dbUser.userId} is still timed out, until ${new Date(
                  member.communicationDisabledUntilTimestamp,
                ).toLocaleString()}&#x60;,
              );
              return;
            } else if (
              member.communicationDisabledUntilTimestamp &lt; Date.now()
            ) {
              logger.log(&#x60;User ${dbUser.userId} timeout expired.&#x60;);
              await this.eventEmitter.emitAsync(
                &#x27;user.timeout.expired&#x27;,
                new UserTimeOutEvent(member.id, guild.id, &#x27;Timeout expired&#x27;, 0),
              );
              await member.disableCommunicationUntil(null); // Be sure to really remove the timeout because its already expired
            }
          } catch (err) {
            this.eventEmitter.emit(&#x27;error&#x27;, {
              toFormattedLog() {
                return err.toString();
              },
            });
          }
        },
      );
    });
  }

  /**
   * Runs everyday at midnight and kicks members that are longer than 14 days on the server and haven&#x27;t checked in.
   */
  @Cron(&#x27;0 0 * * *&#x27;, {
    name: &#x27;cleanWfpMembers&#x27;,
    timeZone: &#x27;Europe/Berlin&#x27;,
  })
  async cleanWfpMembers() {
    const outCome &#x3D; await this.guildService.cleanWfpMembers(
      &#x27;1011511871297302608&#x27;,
      false,
    );
    const logChannel &#x3D; (await this.client.channels.fetch(
      &#x27;1195024829544411168&#x27;,
    )) as GuildTextBasedChannel;
    const embed &#x3D; new EmbedBuilder()
      .setTitle(&#x27;Daily wfp kick member report&#x27;)
      .setColor(Colors.Blue)
      .setDescription(
        &#x27;Member die kicked wurden bzw. nicht kicked werden konnten&#x27;,
      )
      .addFields([
        {
          name: &#x27;Kicked members count&#x27;,
          value: outCome[&#x27;membersToKick&#x27;].length.toString(),
        },
        {
          name: &#x27;Kicked members names&#x27;,
          value: outCome[&#x27;membersToKick&#x27;]
            .map((member) &#x3D;&gt; userMention(member.id))
            .join(&#x27;\n&#x27;),
        },
        {
          name: &quot;Couldn&#x27;t kick members count&quot;,
          value: outCome[&#x27;unkickableMembers&#x27;].length.toString(),
        },
        {
          name: &quot;Couldn&#x27;t kick members names&quot;,
          value: outCome[&#x27;unkickableMembers&#x27;]
            .map((member) &#x3D;&gt; userMention(member.id))
            .join(&#x27;\n&#x27;),
        },
      ]);
    await logChannel.send({
      embeds: [embed],
    });
  }

  @Cron(&#x27;0 0 * * *&#x27;, {
    name: &#x27;closeStaleTickets&#x27;,
    timeZone: &#x27;Europe/Berlin&#x27;,
  })
  async closeStaleTickets() {
    const tickets &#x3D; await this.prismaService.tickets.findMany();
    tickets.forEach(async (ticket) &#x3D;&gt; {
      try {
        const channel &#x3D; (await (
          await this.client.guilds.fetch(ticket.guildId)
        ).channels.fetch(ticket.ticketId)) as GuildTextBasedChannel;
        if (
          new Date(new Date().setDate(new Date().getDate() - 7)) &gt;
          new Date(channel.lastMessage.createdTimestamp)
        ) {
          try {
            await (channel as BaseGuildTextChannel).permissionOverwrites.delete(
              ticket.userId,
            );
            await this.prismaService.tickets.update({
              where: {
                ticketId: ticket.ticketId,
              },
              data: {
                closed: true,
              },
            });
          } catch (e) {
            console.log(e);
          }
        }
      } catch (e) {
        console.log(e);
      }
    });
  }
}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'TasksService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script>
               $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               checkToggle(darkModeState);
               if ($darkModeToggleSwitchers.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
